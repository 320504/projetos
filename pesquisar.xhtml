<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">  
<h:head>
</h:head>
<h:body>

<h:form id="formulario">

 <ui:include src="/WEB-INF/menu.xhtml" />

    <br/>
     
    <p:panel id="painelConsulta" header="Pesquisar">
        <p:messages />
        <h:panelGrid columns="2" columnClasses="label, value" style="margin-bottom:10px" cellpadding="5">
            <h:outputText value="Nome: " />
            <p:inputText value="#{petBean.nome}" label="Nome"/>
			
			<h:outputText value="Nome do Pet: " />
            <p:inputText value="#{petBean.nomePet}"   label="NomedoPet"/>
            
            <h:outputText value="Tipo do Pet: " />
           	<p:inputText  value="#{petBean.tipoPet}"   label="Tipo" placeholder="ex:Cachorro"/>	
           	
           	
           
           
            
      	</h:panelGrid>
      	
				<div align="center">
					<p:button value="Voltar"  style="margin-right: 50px;" href="javascript: history.back();"  />		  
						       		<p:commandButton value="Limpar"  style="margin-right: 50px;" update="painelConsulta" action="#{petBean.limparForm}" process="@this" />	
									<p:commandButton value="Pesquisar" action="#{petBean.consultar}" update="painelConsulta" />
				</div>
    	<br/>
    	<p:panel id="painelTabela" rendered="#{petBean.exibirTabela eq true}">
    		<p:dataTable id="tabela" var="pet" value="#{petBean.listaPet}" rowKey="#{pet.id}"
	                                     rows="10" paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
	                                     emptyMessage="Nenhum registro encontrado" currentPageReportTemplate="{currentPage} de {totalPages}">
	                            <f:facet name="header">
	                                Lista de Resultado
	                            </f:facet>
	                      
	                            <p:column headerText="Nome" >
                            		<h:outputText value="#{pet.nome}" />
                            	</p:column>
                            	
	                            <p:column headerText="Nome do Pet" sortable="true" sortBy="#{pet.nomePet}" >
                            		<h:outputText value="#{pet.nomePet}" />
                            	</p:column>
                            	
                            	<p:column headerText="Tipo do Pet" sortable="true" sortBy="#{pet.tipoPet}">
                            		<h:outputText value="#{pet.tipoPet}" />
                            	</p:column>
                            	
                            	<p:column headerText="Idade do Pet" sortable="true" sortBy="#{pet.idadePet}" >
                            		<h:outputText value="#{pet.idadePet}" />
                            	</p:column>
                            	
                            	<p:column headerText="EndereÃ§o" sortable="true" sortBy="#{pet.endereco}">
                            		<h:outputText value="#{pet.endereco}" />
                            	</p:column>
                            	
                            	<p:column headerText="Telefone" sortable="true" sortBy="#{pet.telefone}"  >
                            		<h:outputText value="#{pet.telefone}" />
                            	</p:column>
                            	
                            	<p:column width="4%" headerText="Editar">
          								<center>
	          								<p:commandLink action="#{petBean.setPetParaAlterar(pet)}">
									       		 Alterar
									       	</p:commandLink>
									    </center>   	
   								</p:column>
                            	
                            	<p:column width="4%" headerText="Excluir">
          								<center>
	          								<p:commandLink actionListener="#{petBean.excluir(pet)}" update=":formulario:painelConsulta">
									       	     Excluir
									       	</p:commandLink>
									    </center>   	
   								</p:column>
                            	
                            	
                            	
                            
                            	
	                            
	                        
	                            
	                            
								
								
			                         
          </p:dataTable>
    		
    							
    	
    	</p:panel>
    </p:panel>
 		
</h:form>
	




</h:body>
</html>